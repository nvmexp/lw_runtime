/*
* _LWRM_COPYRIGHT_BEGIN_
*
* Copyright 2020-2022 by LWPU Corporation.  All rights reserved.  All
* information contained herein is proprietary and confidential to LWPU
* Corporation.  Any use, reproduction, or disclosure without the written
* permission of LWPU Corporation is prohibited.
*
* _LWRM_COPYRIGHT_END_
*/

#pragma once

#include <lwtypes.h>
#if defined(_MSC_VER)
#pragma warning(disable:4324)
#endif

//
// This file was generated with FINN, an LWPU coding tool.
// Source file: ctrl/ctrlb0cc/ctrlb0ccinternal.finn
//
#if (!defined(LWRM_UNPUBLISHED) || LWRM_UNPUBLISHED == 1)
//
// Please edit the original FINN IDL file to create desired edits in this header
// See https://confluence.lwpu.com/display/CORERM/FINN for more info on how to
// edit FINN.
//
#endif // (!defined(LWRM_UNPUBLISHED) || LWRM_UNPUBLISHED == 1)




#include "ctrl/ctrlb0cc/ctrlb0ccbase.h"

#include "ctrl/ctrlb0cc/ctrlb0ccprofiler.h"        /* Some controls derivative of b0ccprofiler */
/*!
 * @ref LWB0CC_CTRL_CMD_ALLOC_PMA_STREAM
 */
#define LWB0CC_CTRL_CMD_INTERNAL_ALLOC_PMA_STREAM (0xb0cc0200) /* finn: Evaluated from "(FINN_MAXWELL_PROFILER_INTERNAL_INTERFACE_ID << 8) | LWB0CC_CTRL_CMD_INTERNAL_ALLOC_PMA_STREAM_FINN_PARAMS_MESSAGE_ID" */


// FINN PORT: The below type was generated by the FINN port to
// ensure that all API's have a unique structure associated
// with them!
#define LWB0CC_CTRL_CMD_INTERNAL_ALLOC_PMA_STREAM_FINN_PARAMS_MESSAGE_ID (0x0U)

typedef struct LWB0CC_CTRL_CMD_INTERNAL_ALLOC_PMA_STREAM_FINN_PARAMS {
    LW_DECLARE_ALIGNED(LWB0CC_CTRL_ALLOC_PMA_STREAM_PARAMS params, 8);
} LWB0CC_CTRL_CMD_INTERNAL_ALLOC_PMA_STREAM_FINN_PARAMS;

/*!
 * LWB0CC_CTRL_CMD_INTERNAL_QUIESCE_PMA_CHANNEL
 *
 * This command is used to quiesce ongoing HWPM streamout and wait for PMA engine to
 * become idle. After this point, no new PMA records would be generated and
 * membytes streaming would be triggered if GR context is resident or HWPM ctxsw is disabled.
 */
#define LWB0CC_CTRL_CMD_INTERNAL_QUIESCE_PMA_CHANNEL (0xb0cc0201) /* finn: Evaluated from "(FINN_MAXWELL_PROFILER_INTERNAL_INTERFACE_ID << 8) | LWB0CC_CTRL_INTERNAL_QUIESCE_PMA_CHANNEL_PARAMS_MESSAGE_ID" */

#define LWB0CC_CTRL_INTERNAL_QUIESCE_PMA_CHANNEL_PARAMS_MESSAGE_ID (0x1U)

typedef struct LWB0CC_CTRL_INTERNAL_QUIESCE_PMA_CHANNEL_PARAMS {
    /*!
     * [in] The PMA Channel Index associated with a given PMA stream.
     */
    LwU32  pmaChannelIdx;

    /*!
     * [out] Will return if membytes streaming was triggered, to decide if
     *       we need to poll membytes value on guest to complete streamout.
     */
    LwBool bMembytesPollingRequired;
} LWB0CC_CTRL_INTERNAL_QUIESCE_PMA_CHANNEL_PARAMS;

#if (!defined(LWRM_UNPUBLISHED) || LWRM_UNPUBLISHED == 1)

/*!
 * LWB0CC_CTRL_CMD_INTERNAL_SRIOV_PROMOTE_PMA_STREAM
 *
 * Lwrrently only used in vGPU full SRIOV mode.
 * This command is used to promote VAs and required info about the HWPM IB
 * and PMA buffers from guest to host in full SRIOV mode.
 */
#define LWB0CC_CTRL_CMD_INTERNAL_SRIOV_PROMOTE_PMA_STREAM (0xb0cc0202) /* finn: Evaluated from "(FINN_MAXWELL_PROFILER_INTERNAL_INTERFACE_ID << 8) | LWB0CC_CTRL_INTERNAL_SRIOV_PROMOTE_PMA_STREAM_PARAMS_MESSAGE_ID" */

#define LWB0CC_CTRL_INTERNAL_SRIOV_PROMOTE_PMA_STREAM_PARAMS_MESSAGE_ID (0x2U)

typedef struct LWB0CC_CTRL_INTERNAL_SRIOV_PROMOTE_PMA_STREAM_PARAMS {
    /*!
     * [in] The PMA Channel Index associated with a given PMA stream.
     */
    LwU32 pmaChannelIdx;
    /*!
     * [in] PMA records buffer VA.
     */
    LW_DECLARE_ALIGNED(LwU64 pmaBufferVA, 8);

    /*!
     * [in] size of the PMA records buffer. This must be <= LWB0CC_PMA_BUFFER_SIZE_MAX.
     */
    LW_DECLARE_ALIGNED(LwU64 pmaBufferSize, 8);

    /*!
     * [in] Membytes buffer VA.
     */
    LW_DECLARE_ALIGNED(LwU64 membytesVA, 8);

    /*!
     * [in] HWPM PMA Instance Block PA
     */
    LW_DECLARE_ALIGNED(LwU64 hwpmIBPA, 8);

    /*!
     * [in] HWPM PMA Instance Block aperture
     */
    LwU8  hwpmIBAperture;
} LWB0CC_CTRL_INTERNAL_SRIOV_PROMOTE_PMA_STREAM_PARAMS;
/* LWRM_UNPUBLISHED */
#endif // (!defined(LWRM_UNPUBLISHED) || LWRM_UNPUBLISHED == 1)



/*!
 * LWB0CC_CTRL_CMD_INTERNAL_PERMISSIONS_INIT
 *
 * This command is used to convey the client permissions for appropriate
 * profiling capability initialization
 */
#define LWB0CC_CTRL_CMD_INTERNAL_PERMISSIONS_INIT (0xb0cc0203) /* finn: Evaluated from "(FINN_MAXWELL_PROFILER_INTERNAL_INTERFACE_ID << 8) | LWB0CC_CTRL_INTERNAL_PERMISSIONS_INIT_PARAMS_MESSAGE_ID" */

#define LWB0CC_CTRL_INTERNAL_PERMISSIONS_INIT_PARAMS_MESSAGE_ID (0x3U)

typedef struct LWB0CC_CTRL_INTERNAL_PERMISSIONS_INIT_PARAMS {
    /*!
     * [in] Is Admin profiling permitted
     */
    LwBool bAdminProfilingPermitted;
    /*!
     * [in] Is Device profiling permitted
     */
    LwBool bDevProfilingPermitted;

    /*!
     * [in] Is Memory profiling permitted
     */
    LwBool bMemoryProfilingPermitted;
} LWB0CC_CTRL_INTERNAL_PERMISSIONS_INIT_PARAMS;

/* _ctrlb0ccinternal_h_ */
