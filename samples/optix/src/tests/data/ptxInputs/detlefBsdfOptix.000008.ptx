//
// Generated by LWPU LWVM Compiler
//
// Compiler Build ID: CL-19805474
// Lwca compilation tools, release 7.5, V7.5.16
// Based on LLVM 3.4svn
//

.version 4.3
.target sm_20
.address_size 64

	// .globl	_Z25intersection_hair_segmenti
.global .texref sys_NoiseSampler;
.global .texref sys_WavelengthSampler;
.global .align 1 .b8 hairVerticesBuffer[1];
.global .align 1 .b8 hairIndicesBuffer[1];
.global .align 16 .b8 varGeometricNormal[16];
.global .align 16 .b8 varTangent[16];
.global .align 16 .b8 varTexCoord0[16];
.global .align 4 .b8 theRay[36];
.global .align 8 .u64 _ZN21rti_internal_register20reg_bitness_detectorE;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail0E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail1E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail2E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail3E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail4E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail5E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail6E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail7E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail8E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail9E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail0E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail1E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail2E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail3E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail4E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail5E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail6E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail7E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail8E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail9E;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_xE;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_yE;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_zE;
.global .align 4 .b8 _ZN21rti_internal_typeinfo18varGeometricNormalE[8] = {82, 97, 121, 0, 16, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo10varTangentE[8] = {82, 97, 121, 0, 16, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo12varTexCoord0E[8] = {82, 97, 121, 0, 16, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo6theRayE[8] = {82, 97, 121, 0, 36, 0, 0, 0};
.global .align 1 .b8 _ZN21rti_internal_typename18varGeometricNormalE[7] = {102, 108, 111, 97, 116, 52, 0};
.global .align 1 .b8 _ZN21rti_internal_typename10varTangentE[7] = {102, 108, 111, 97, 116, 52, 0};
.global .align 1 .b8 _ZN21rti_internal_typename12varTexCoord0E[7] = {102, 108, 111, 97, 116, 52, 0};
.global .align 1 .b8 _ZN21rti_internal_typename6theRayE[4] = {82, 97, 121, 0};
.global .align 4 .u32 _ZN21rti_internal_typeenum18varGeometricNormalE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum10varTangentE = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum12varTexCoord0E = 4919;
.global .align 4 .u32 _ZN21rti_internal_typeenum6theRayE = 4919;
.global .align 1 .b8 _ZN21rti_internal_semantic18varGeometricNormalE[27] = {97, 116, 116, 114, 105, 98, 117, 116, 101, 32, 71, 69, 79, 77, 69, 84, 82, 73, 67, 95, 78, 79, 82, 77, 65, 76, 0};
.global .align 1 .b8 _ZN21rti_internal_semantic10varTangentE[18] = {97, 116, 116, 114, 105, 98, 117, 116, 101, 32, 84, 65, 78, 71, 69, 78, 84, 0};
.global .align 1 .b8 _ZN21rti_internal_semantic12varTexCoord0E[20] = {97, 116, 116, 114, 105, 98, 117, 116, 101, 32, 84, 69, 88, 67, 79, 79, 82, 68, 48, 0};
.global .align 1 .b8 _ZN21rti_internal_semantic6theRayE[13] = {114, 116, 67, 117, 114, 114, 101, 110, 116, 82, 97, 121, 0};
.global .align 1 .b8 _ZN23rti_internal_annotation18varGeometricNormalE[1];
.global .align 1 .b8 _ZN23rti_internal_annotation10varTangentE[1];
.global .align 1 .b8 _ZN23rti_internal_annotation12varTexCoord0E[1];
.global .align 1 .b8 _ZN23rti_internal_annotation6theRayE[1];

.visible .entry _Z25intersection_hair_segmenti(
	.param .u32 _Z25intersection_hair_segmenti_param_0
)
{
	.reg .pred 	%p<27>;
	.reg .f32 	%f<152>;
	.reg .b32 	%r<25>;
	.reg .b64 	%rd<61>;


	ld.param.s32 	%rd4, [_Z25intersection_hair_segmenti_param_0];
	mov.u64 	%rd20, hairIndicesBuffer;
	cvta.global.u64 	%rd3, %rd20;
	mov.u32 	%r6, 1;
	mov.u32 	%r7, 16;
	mov.u64 	%rd19, 0;
	// inline asm
	call (%rd2), _rt_buffer_get_64, (%rd3, %r6, %r7, %rd4, %rd19, %rd19, %rd19);
	// inline asm
	ld.global.f32 	%f18, [theRay+16];
	ld.global.f32 	%f19, [theRay+12];
	ld.global.f32 	%f20, [theRay+20];
	abs.ftz.f32 	%f21, %f20;
	abs.ftz.f32 	%f22, %f19;
	setp.lt.ftz.f32	%p4, %f21, %f22;
	selp.f32	%f23, %f19, %f18, %p4;
	selp.f32	%f24, %f20, 0f00000000, %p4;
	selp.f32	%f25, 0f00000000, %f20, %p4;
	mul.ftz.f32 	%f26, %f25, %f25;
	fma.rn.ftz.f32 	%f27, %f24, %f24, %f26;
	fma.rn.ftz.f32 	%f28, %f23, %f23, %f27;
	sqrt.approx.ftz.f32 	%f29, %f28;
	rcp.approx.ftz.f32 	%f30, %f29;
	mul.ftz.f32 	%f31, %f24, %f30;
	mul.ftz.f32 	%f32, %f25, %f30;
	mul.ftz.f32 	%f33, %f23, %f30;
	neg.ftz.f32 	%f34, %f33;
	mul.ftz.f32 	%f35, %f18, %f34;
	mul.ftz.f32 	%f36, %f20, %f32;
	sub.ftz.f32 	%f37, %f35, %f36;
	mul.ftz.f32 	%f38, %f19, %f33;
	fma.rn.ftz.f32 	%f39, %f20, %f31, %f38;
	mul.ftz.f32 	%f40, %f19, %f32;
	mul.ftz.f32 	%f41, %f18, %f31;
	sub.ftz.f32 	%f42, %f40, %f41;
	ld.u32 	%r1, [%rd2];
	cvt.u64.u32	%rd10, %r1;
	mov.u64 	%rd21, hairVerticesBuffer;
	cvta.global.u64 	%rd9, %rd21;
	// inline asm
	call (%rd8), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd10, %rd19, %rd19, %rd19);
	// inline asm
	ld.v4.f32 	{%f43, %f44, %f45, %f46}, [%rd8];
	add.s32 	%r8, %r1, 1;
	cvt.u64.u32	%rd16, %r8;
	// inline asm
	call (%rd14), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd16, %rd19, %rd19, %rd19);
	// inline asm
	ld.global.f32 	%f50, [theRay];
	sub.ftz.f32 	%f51, %f43, %f50;
	ld.global.f32 	%f52, [theRay+4];
	sub.ftz.f32 	%f53, %f44, %f52;
	ld.global.f32 	%f54, [theRay+8];
	sub.ftz.f32 	%f55, %f45, %f54;
	mul.ftz.f32 	%f56, %f32, %f53;
	fma.rn.ftz.f32 	%f57, %f31, %f51, %f56;
	mul.ftz.f32 	%f58, %f55, %f33;
	sub.ftz.f32 	%f2, %f57, %f58;
	mul.ftz.f32 	%f59, %f39, %f53;
	fma.rn.ftz.f32 	%f60, %f37, %f51, %f59;
	fma.rn.ftz.f32 	%f3, %f42, %f55, %f60;
	mul.ftz.f32 	%f61, %f18, %f53;
	fma.rn.ftz.f32 	%f62, %f19, %f51, %f61;
	fma.rn.ftz.f32 	%f4, %f20, %f55, %f62;
	ld.v4.f32 	{%f63, %f64, %f65, %f66}, [%rd14];
	sub.ftz.f32 	%f70, %f63, %f50;
	sub.ftz.f32 	%f71, %f64, %f52;
	sub.ftz.f32 	%f72, %f65, %f54;
	mul.ftz.f32 	%f73, %f32, %f71;
	fma.rn.ftz.f32 	%f74, %f31, %f70, %f73;
	mul.ftz.f32 	%f75, %f72, %f33;
	sub.ftz.f32 	%f5, %f74, %f75;
	mul.ftz.f32 	%f76, %f39, %f71;
	fma.rn.ftz.f32 	%f77, %f37, %f70, %f76;
	fma.rn.ftz.f32 	%f6, %f42, %f72, %f77;
	mul.ftz.f32 	%f78, %f18, %f71;
	fma.rn.ftz.f32 	%f79, %f19, %f70, %f78;
	fma.rn.ftz.f32 	%f7, %f20, %f72, %f79;
	ld.global.f32 	%f151, [theRay+32];
	min.ftz.f32 	%f80, %f2, %f5;
	min.ftz.f32 	%f81, %f3, %f6;
	max.ftz.f32 	%f82, %f2, %f5;
	max.ftz.f32 	%f83, %f3, %f6;
	max.ftz.f32 	%f10, %f46, %f66;
	neg.ftz.f32 	%f84, %f10;
	setp.geu.ftz.f32	%p5, %f82, %f84;
	setp.geu.ftz.f32	%p6, %f10, %f80;
	and.pred  	%p7, %p5, %p6;
	setp.geu.ftz.f32	%p8, %f83, %f84;
	setp.geu.ftz.f32	%p9, %f10, %f81;
	and.pred  	%p10, %p7, %p8;
	and.pred  	%p11, %p9, %p10;
	mov.pred 	%p26, -1;
	@!%p11 bra 	BB0_3;
	bra.uni 	BB0_1;

BB0_1:
	sub.ftz.f32 	%f11, %f5, %f2;
	mul.ftz.f32 	%f85, %f2, %f11;
	sub.ftz.f32 	%f12, %f6, %f3;
	mul.ftz.f32 	%f86, %f3, %f12;
	neg.ftz.f32 	%f87, %f86;
	sub.ftz.f32 	%f88, %f87, %f85;
	mul.ftz.f32 	%f89, %f12, %f12;
	fma.rn.ftz.f32 	%f90, %f11, %f11, %f89;
	div.approx.ftz.f32 	%f150, %f88, %f90;
	setp.ge.ftz.f32	%p13, %f150, 0f00000000;
	add.ftz.f32 	%f91, %f10, 0f3F800000;
	setp.lt.ftz.f32	%p14, %f150, %f91;
	and.pred  	%p15, %p13, %p14;
	@!%p15 bra 	BB0_3;
	bra.uni 	BB0_2;

BB0_2:
	sub.ftz.f32 	%f92, %f7, %f4;
	sub.ftz.f32 	%f93, %f66, %f46;
	fma.rn.ftz.f32 	%f94, %f11, %f150, %f2;
	fma.rn.ftz.f32 	%f95, %f12, %f150, %f3;
	fma.rn.ftz.f32 	%f96, %f92, %f150, %f4;
	fma.rn.ftz.f32 	%f97, %f93, %f150, %f46;
	mul.ftz.f32 	%f98, %f95, %f95;
	fma.rn.ftz.f32 	%f99, %f94, %f94, %f98;
	mul.ftz.f32 	%f100, %f97, %f97;
	setp.le.ftz.f32	%p16, %f99, %f100;
	setp.gtu.ftz.f32	%p17, %f99, %f100;
	ld.global.f32 	%f101, [theRay+28];
	setp.lt.ftz.f32	%p18, %f101, %f96;
	setp.geu.ftz.f32	%p19, %f101, %f96;
	or.pred  	%p20, %p17, %p19;
	and.pred  	%p21, %p16, %p18;
	setp.geu.ftz.f32	%p22, %f96, %f151;
	setp.lt.ftz.f32	%p23, %f96, %f151;
	and.pred  	%p24, %p21, %p23;
	selp.f32	%f151, %f96, %f151, %p24;
	or.pred  	%p26, %p20, %p22;

BB0_3:
	@%p26 bra 	BB0_6;

	// inline asm
	call (%r9), _rt_potential_intersection, (%f151);
	// inline asm
	setp.eq.s32	%p25, %r9, 0;
	@%p25 bra 	BB0_6;

	// inline asm
	call (%rd22, %rd23, %rd24, %rd25), _rt_buffer_get_size_64, (%rd9, %r6, %r7);
	// inline asm
	and.b64  	%rd58, %rd22, 4294967295;
	mul.hi.u64 	%rd59, %rd58, -6148914691236517205;
	shr.u64 	%rd60, %rd59, 1;
	add.s64 	%rd29, %rd60, %rd10;
	// inline asm
	call (%rd27), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd29, %rd19, %rd19, %rd19);
	// inline asm
	add.s64 	%rd35, %rd60, %rd16;
	// inline asm
	call (%rd33), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd35, %rd19, %rd19, %rd19);
	// inline asm
	ld.v4.f32 	{%f103, %f104, %f105, %f106}, [%rd27];
	ld.v4.f32 	{%f108, %f109, %f110, %f111}, [%rd33];
	sub.ftz.f32 	%f113, %f108, %f103;
	sub.ftz.f32 	%f116, %f109, %f104;
	sub.ftz.f32 	%f119, %f110, %f105;
	sub.ftz.f32 	%f122, %f111, %f106;
	// inline asm
	call (%rd39), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd10, %rd19, %rd19, %rd19);
	// inline asm
	ld.f32 	%f123, [%rd39+12];
	// inline asm
	call (%rd45), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd16, %rd19, %rd19, %rd19);
	// inline asm
	ld.f32 	%f124, [%rd45+12];
	sub.ftz.f32 	%f125, %f124, %f123;
	ld.f32 	%f126, [%rd2+12];
	fma.rn.ftz.f32 	%f127, %f150, %f116, %f104;
	mul.ftz.f32 	%f128, %f127, %f126;
	ld.f32 	%f129, [%rd2+8];
	fma.rn.ftz.f32 	%f130, %f150, %f119, %f105;
	mul.ftz.f32 	%f131, %f130, %f129;
	ld.f32 	%f132, [%rd2+4];
	mul.ftz.f32 	%f133, %f130, %f132;
	fma.rn.ftz.f32 	%f134, %f150, %f113, %f103;
	mul.ftz.f32 	%f135, %f134, %f126;
	mul.ftz.f32 	%f136, %f134, %f129;
	mul.ftz.f32 	%f137, %f127, %f132;
	fma.rn.ftz.f32 	%f138, %f150, %f125, %f123;
	sub.ftz.f32 	%f139, %f136, %f137;
	sub.ftz.f32 	%f140, %f133, %f135;
	sub.ftz.f32 	%f141, %f128, %f131;
	st.global.v4.f32 	[varGeometricNormal], {%f141, %f140, %f139, %f138};
	fma.rn.ftz.f32 	%f142, %f150, %f122, %f106;
	st.global.v4.f32 	[varTangent], {%f134, %f127, %f130, %f142};
	add.s64 	%rd53, %rd29, %rd60;
	// inline asm
	call (%rd51), _rt_buffer_get_64, (%rd9, %r6, %r7, %rd53, %rd19, %rd19, %rd19);
	// inline asm
	ld.v4.f32 	{%f143, %f144, %f145, %f146}, [%rd51];
	st.global.v4.f32 	[varTexCoord0], {%f143, %f144, %f142, %f146};
	mov.u32 	%r23, 0;
	// inline asm
	call (%r22), _rt_report_intersection, (%r23);
	// inline asm

BB0_6:
	ret;
}


