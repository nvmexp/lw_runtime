//
// Generated by LWPU LWVM Compiler
// Compiler built on Sun Apr 08 00:53:32 2012 (1333839212)
// Lwca compilation tools, release 4.2, V0.2.1221
//

.version 3.0
.target sm_20
.address_size 64

	.file	1 "C:/Users/hautbois/AppData/Local/Temp/tmpxft_00000688_00000000-11_OptixLayerGeometry.cpp3.i"
	.file	2 "OptixLayerGeometry.lw"
	.file	3 "x:/dev/com.lwpu.optix.2.6/include/internal/optix_internal.h"
	.file	4 "x:/dev/com.lwpu.optix.2.6/include/optix_device.h"
.global .align 4 .u32 layer_id;
.global .align 4 .b8 ray[36];
.global .align 8 .u64 _ZN21rti_internal_register20reg_bitness_detectorE;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail0E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail1E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail2E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail3E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail4E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail5E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail6E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail7E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail8E;
.global .align 8 .u64 _ZN21rti_internal_register24reg_exception_64_detail9E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail0E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail1E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail2E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail3E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail4E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail5E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail6E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail7E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail8E;
.global .align 4 .u32 _ZN21rti_internal_register21reg_exception_detail9E;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_xE;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_yE;
.global .align 4 .u32 _ZN21rti_internal_register14reg_rayIndex_zE;
.global .align 4 .b8 _ZN21rti_internal_typeinfo8layer_idE[8] = {82, 97, 121, 0, 4, 0, 0, 0};
.global .align 4 .b8 _ZN21rti_internal_typeinfo3rayE[8] = {82, 97, 121, 0, 36, 0, 0, 0};
.global .align 1 .b8 _ZN21rti_internal_typename8layer_idE[13] = {117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 0};
.global .align 1 .b8 _ZN21rti_internal_typename3rayE[11] = {111, 112, 116, 105, 120, 58, 58, 82, 97, 121, 0};
.global .align 1 .b8 _ZN21rti_internal_semantic8layer_idE[1];
.global .align 1 .b8 _ZN21rti_internal_semantic3rayE[13] = {114, 116, 67, 117, 114, 114, 101, 110, 116, 82, 97, 121, 0};
.global .align 1 .b8 _ZN23rti_internal_annotation8layer_idE[1];
.global .align 1 .b8 _ZN23rti_internal_annotation3rayE[1];

.entry _Z15layer_intersecti(
	.param .u32 _Z15layer_intersecti_param_0
)
{
	.reg .f32 	%f<4>;
	.reg .pred 	%p<2>;
	.reg .s32 	%r<5>;


	ldu.global.u32 	%r2, [layer_id];
	.loc 2 12 1
	cvt.rn.f32.u32 	%f2, %r2;
	ldu.global.f32 	%f3, [ray];
	.loc 2 12 1
	sub.f32 	%f1, %f2, %f3;
	// inline asm
	call (%r1), _rt_potential_intersection, (%f1);
	// inline asm
	.loc 3 114 1
	setp.eq.s32 	%p1, %r1, 0;
	.loc 2 12 1
	@%p1 bra 	BB0_2;

	mov.u32 	%r4, 0;
	// inline asm
	call (%r3), _rt_report_intersection, (%r4);
	// inline asm

BB0_2:
	.loc 2 16 2
	ret;
}

.entry _Z9layer_boxiPf(
	.param .u32 _Z9layer_boxiPf_param_0,
	.param .u64 _Z9layer_boxiPf_param_1
)
{
	.reg .f32 	%f<4>;
	.reg .s32 	%r<10>;
	.reg .s64 	%rl<3>;


	ld.param.u64 	%rl1, [_Z9layer_boxiPf_param_1];
	cvta.to.global.u64 	%rl2, %rl1;
	ldu.global.u32 	%r1, [layer_id];
	.loc 2 21 1
	cvt.rn.f32.u32 	%f1, %r1;
	add.f32 	%f2, %f1, 0fBD4CCCCD;
	mov.u32 	%r2, -1082130432;
	.loc 2 21 1
	st.global.u32 	[%rl2+8], %r2;
	st.global.u32 	[%rl2+4], %r2;
	st.global.f32 	[%rl2], %f2;
	.loc 2 22 1
	add.f32 	%f3, %f1, 0f3D4CCCCD;
	mov.u32 	%r6, 1065353216;
	.loc 2 22 1
	st.global.u32 	[%rl2+20], %r6;
	st.global.u32 	[%rl2+16], %r6;
	st.global.f32 	[%rl2+12], %f3;
	.loc 2 23 2
	ret;
}


