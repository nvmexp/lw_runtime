//
// Generated by Microsoft (R) HLSL Shader Compiler 9.27.952.3012
//
//
//   fxc check_me.hlsl /D NINPUT_VERTS=16 /T hs_5_0 /E GregoryQuadHS /D
//    POSTEX_RES=64 /D TANTEX_RES=64 /Fo bin.dat /Fc asm.txt
//
//
// Buffer Definitions: 
//
// cbuffer cbPerMesh
// {
//
//   uint g_iStartPatch;                // Offset:    0 Size:     4 [unused]
//   uint g_iStartTopology;             // Offset:    4 Size:     4 [unused]
//   uint g_iMesh;                      // Offset:    8 Size:     4 [unused]
//   uint g_lwertsPerPatch;             // Offset:   12 Size:     4 [unused]
//   float g_fTessFactor;               // Offset:   16 Size:     4
//   uint dummy[3];                     // Offset:   32 Size:    36 [unused]
//
// }
//
// cbuffer cbPerFrame
// {
//
//   float4x4 g_mProjection;            // Offset:    0 Size:    64
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// g_pWeights4Buf                    texture  float4         buf   10        1
// g_pIlwalence                      texture   float          2d   13        1
// g_pWeightsBuf                     texture   float         buf   14        1
// g_pTopologies                     texture    uint         buf   15        1
// cbPerFrame                        cbuffer      NA          NA   12        1
// cbPerMesh                         cbuffer      NA          NA   13        1
//
//
//
// Patch Constant signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// SV_TessFactor            0   x           0 QUADEDGE  float   x   
// SV_TessFactor            1   x           1 QUADEDGE  float   x   
// SV_TessFactor            2   x           2 QUADEDGE  float   x   
// SV_TessFactor            3   x           3 QUADEDGE  float   x   
// SV_InsideTessFactor      0   x           4  QUADINT  float   x   
// SV_InsideTessFactor      1   x           5  QUADINT  float   x   
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// WORLDPOS                 0   xyz         0     NONE  float   xyz 
// TEXCOORD                 0   xy          1     NONE  float   xy  
// TANGENT                  0   xyz         2     NONE  float   xyz 
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// GREGORY_CORNER           0   xyz         0     NONE  float   xyz 
// TESS_FACTOR              0      w        0     NONE  float      w
// GREGORY_EDGE             0   xyz         1     NONE  float   xyz 
// IN_VALENCE               0      w        1     NONE  float      w
// GREGORY_EDGE             1   xyz         2     NONE  float   xyz 
// GREGORY_INTERIOR         0   xyz         3     NONE  float   xyz 
// GREGORY_INTERIOR         1   xyz         4     NONE  float   xyz 
// TEXCOORD                 0   xy          5     NONE  float   xy  
// TANGENT                  0   xyz         6     NONE  float   xyz 
//
// Tessellation Domain   # of control points
// -------------------- --------------------
// Quadrilateral                           4
//
// Tessellation Output Primitive  Partitioning Type 
// ------------------------------ ------------------
// Clockwise Triangles            Integer           
//
hs_5_0
hs_decls 
dcl_input_control_point_count 16
dcl_output_control_point_count 4
dcl_tessellator_domain domain_quad
dcl_tessellator_partitioning partitioning_integer
dcl_tessellator_output_primitive output_triangle_cw
dcl_globalFlags refactoringAllowed
dcl_immediateConstantBuffer { { 1, 0, 1, 0},
                              { 0, 3, 2, 0},
                              { 0, 0, 3, 0},
                              { 0, 0, 0, 0} }
dcl_constantbuffer cb13[2], immediateIndexed
dcl_constantbuffer cb12[4], immediateIndexed
dcl_resource_buffer (float,float,float,float) t10
dcl_resource_texture2d (float,float,float,float) t13
dcl_resource_buffer (float,float,float,float) t14
dcl_resource_buffer (uint,uint,uint,uint) t15
hs_control_point_phase 
dcl_input vOutputControlPointID
dcl_input vPrim
dcl_input v[16][0].xyz
dcl_input v[16][1].xy
dcl_input v[16][2].xyz
dcl_output o0.xyz
dcl_output o0.w
dcl_output o1.xyz
dcl_output o1.w
dcl_output o2.xyz
dcl_output o3.xyz
dcl_output o4.xyz
dcl_output o5.xy
dcl_output o6.xyz
dcl_temps 13
mov r0.x, vOutputControlPointID
mov r1.xyz, v[r0.x + 0][0].xyzx
mov r1.w, l(1.000000)
dp4 r2.x, r1.xyzw, cb12[0].xyzw
dp4 r2.y, r1.xyzw, cb12[1].xyzw
dp4 r0.y, r1.xyzw, cb12[3].xyzw
div r0.yz, r2.xxyx, r0.yyyy
iadd r0.w, vOutputControlPointID, l(1)
and r0.w, r0.w, l(3)
mov r1.xyz, v[r0.w + 0][0].xyzx
mov r1.w, l(1.000000)
dp4 r2.x, r1.xyzw, cb12[0].xyzw
dp4 r2.y, r1.xyzw, cb12[1].xyzw
dp4 r0.w, r1.xyzw, cb12[3].xyzw
div r1.xy, r2.xyxx, r0.wwww
add r0.yz, r0.yyzy, -r1.xxyx
dp2 r0.y, r0.yzyy, r0.yzyy
sqrt r0.y, r0.y
mul r0.y, r0.y, cb13[1].x
max o0.w, r0.y, l(1.000000)
ld_indexable(buffer)(uint,uint,uint,uint) r1.x, vPrim, t15.xyzw
mov r2.x, vOutputControlPointID
mov r2.y, r1.x
mov r2.zw, l(0,0,0,0)
ld_indexable(texture2d)(float,float,float,float) r1.x, r2.xyzw, t13.xyzw
ishl r0.yz, r2.xxyx, l(0, 3, 10, 0)
iadd r0.y, r0.y, r0.z
ushr r0.z, r0.y, l(2)
ld_indexable(buffer)(float,float,float,float) r2.xyzw, r0.zzzz, t10.xyzw
mul r1.yzw, r2.xxxx, v[0][0].xxyz
mul r3.xyz, r2.yyyy, v[0][0].xyzx
mul r2.xyz, r2.zzzz, v[0][0].xyzx
mul r4.xyz, r2.wwww, v[0][0].xyzx
bfi r0.w, l(3), l(0), l(4), r0.y
ld_indexable(buffer)(float,float,float,float) r5.x, r0.wwww, t14.xyzw
mul r5.xyz, r5.xxxx, v[0][0].xyzx
mov r6.xyz, r5.xyzx
mov r7.xyz, r1.yzwy
mov r8.xyz, r3.xyzx
mov r9.xyz, r2.xyzx
mov r10.xyz, r4.xyzx
mov r11.xy, r0.yzyy
mov r0.w, l(1)
loop 
  uge r2.w, r0.w, l(16)
  breakc_nz r2.w
  iadd r11.xy, r11.xyxx, l(32, 8, 0, 0)
  ld_indexable(buffer)(float,float,float,float) r12.xyzw, r11.yyyy, t10.xyzw
  mad r7.xyz, r12.xxxx, v[r0.w + 0][0].xyzx, r7.xyzx
  mad r8.xyz, r12.yyyy, v[r0.w + 0][0].xyzx, r8.xyzx
  mad r9.xyz, r12.zzzz, v[r0.w + 0][0].xyzx, r9.xyzx
  mad r10.xyz, r12.wwww, v[r0.w + 0][0].xyzx, r10.xyzx
  bfi r2.w, l(3), l(0), l(4), r11.x
  ld_indexable(buffer)(float,float,float,float) r12.x, r2.wwww, t14.xyzw
  mad r6.xyz, r12.xxxx, v[r0.w + 0][0].xyzx, r6.xyzx
  iadd r0.w, r0.w, l(1)
endloop 
mov o0.xyz, r6.xyzx
mov o1.xyz, r7.xyzx
mov o2.xyz, r8.xyzx
mov o3.xyz, r9.xyzx
mov o4.xyz, r10.xyzx
mov o1.w, r1.x
mov o6.xyz, v[r0.x + 0][2].xyzx
mov o5.xy, v[r0.x + 0][1].xyxx
ret 
hs_fork_phase 
dcl_hs_fork_phase_instance_count 4
dcl_input vForkInstanceID
dcl_input vocp[4][0].w
dcl_output_siv o0.x, finalQuadUeq0EdgeTessFactor
dcl_output_siv o1.x, finalQuadVeq0EdgeTessFactor
dcl_output_siv o2.x, finalQuadUeq1EdgeTessFactor
dcl_output_siv o3.x, finalQuadVeq1EdgeTessFactor
dcl_temps 1
dcl_indexrange o0.x 4
mov r0.x, vForkInstanceID.x
mov r0.y, icb[r0.x + 0].z
mov o[r0.x + 0].x, vocp[r0.y + 0][0].w
ret 
hs_fork_phase 
dcl_hs_fork_phase_instance_count 2
dcl_input vForkInstanceID
dcl_input vocp[4][0].w
dcl_output_siv o4.x, finalQuadUInsideTessFactor
dcl_output_siv o5.x, finalQuadVInsideTessFactor
dcl_temps 1
dcl_indexrange o4.x 2
mov r0.x, vForkInstanceID.x
mov r0.yz, icb[r0.x + 0].xxyx
max o[r0.x + 4].x, vocp[r0.z + 0][0].w, vocp[r0.y + 1][0].w
ret 
// Approximately 74 instruction slots used
